© 2026 Ji Hua.
This repository documents the Vibe + Coding methodology.
Licensed under CC BY-NC-ND 4.0.

Vibe + Coding — Version 0.2

---

# 第五章｜决策阶段（Decision Phase）

## 高责任判断的唯一合法发生地

在 Vibe + Coding 的工程流程中，**决策阶段是唯一允许高责任判断发生的阶段**。

本章不讨论整体流程，也不再解释角色关系；
这些内容已在前述章节中被明确冻结。

本章只回答一个问题：

> 在一个需要长期维护、可审计、可递归扩展的工程中，
> 所有会影响系统长期形态、语义边界与维护成本的判断，
> 应当如何被合法地产生、显式化并冻结？

---

## 一、决策阶段的工程地位

决策阶段不是“先想一想”，
也不是“实现之前的准备”。

它是一项**制度化的工程活动**，其工程目标高度明确且不可替代：

> 将所有高责任判断，
> 在可讨论、可回溯的状态下完成，
> 并将其冻结为后续分解、执行与审计的唯一合法依据。

在这一阶段完成的，不是“最优解”，而是：

- 问题边界的确认
- 系统责任的划定
- 候选方案的取舍记录
- 不变量与约束的明确声明
- 风险与代价的知情接受

一旦这些判断被冻结，
后续阶段不得重新讨论其正当性，**只能选择是否遵守**。

---

### 心智模型比喻｜作战决心的形成

在军事指挥系统中，
最高指挥层必须在行动开始前明确作战决心：

- 要达成什么目标
- 允许付出多大代价
- 哪些边界绝不可触碰

参谋系统可以提供分析、方案与推演，
但是否采纳、采纳到什么程度，只能由指挥官决定。

一旦作战决心形成，
任何前线单位都无权重新讨论“是否该打”或“打到哪里”。

工程中的决策阶段，正对应这一位置。

---

## 二、一个基本前提：决策阶段不通过实现生成决策

在决策阶段中，**允许并且经常必须引入工程约束**，包括但不限于：

- 性能目标
- 可实现性要求
- 资源与成本限制

例如：

- “该系统必须在指定吞吐量下稳定运行”
- “该模块若无法满足实时性要求，则整体方案不可接受”

这些约束**本身就是高责任决策的一部分**，
并且必须在决策阶段被**显式提出、讨论并冻结**。

---

但在决策阶段中，**不允许通过实现过程本身来生成或固化高责任判断**，例如：

- 通过“先写一版看看效果”来决定系统结构
- 因某次 demo 的偶然成功，默认某条设计路径是合理的
- 在代码中隐式确立接口、边界或职责划分

问题不在于效率，
而在于**责任合法性**。

任何通过实现过程“自然形成”的判断，都会不可避免地引入：

- 未被显式讨论的结构性决定
- 难以回溯的取舍路径
- 无法被清楚追责的设计来源

一旦这些判断通过代码“偷偷发生”，
后续的冻结、授权与审计就会失去合法性基础。

---

### 特别澄清：允许的尝试行为与其工程地位

在实践中，决策阶段**允许进行一定形式的尝试活动**，包括：

- 用于验证某个工程前提是否成立的实验性代码
- 用于测量性能上限或瓶颈的探索性实现
- 与最终工程无直接依赖关系的支线验证任务

但前提是，Actor 在**心智模型上必须清楚地意识到**：

> 这些行为属于决策前的必要火力侦察，
> 而不是作战决心本身。

这类尝试具有明确的工程地位：

- 它们的结果只能作为讨论素材
- 它们本身不构成设计决策
- 它们不得被直接纳入长期工程结构

任何来自尝试的结论，
**都必须重新回到决策讨论中，被显式表达、评估并冻结**，
否则就不具备工程合法性。

---

### 心智模型比喻｜火力侦察与作战决心

在军事系统中，
火力侦察用于判断敌情与地形，
但它**不能替代作战决心**。

如果指挥官因为某次侦察行动“进展顺利”，
就默认改变了作战目标或推进路线，
那不是灵活，而是失控。

工程中的尝试行为，
只有在被明确纳入决策讨论并完成冻结之后，
才具备制度效力。

---

## 三、决策阶段的内部结构：四个不可跳跃的步骤

为了确保高责任判断在冻结前被充分显式化，
决策阶段必须通过一个固定的内部结构来组织：

**输入 → 对齐 → 细化 → 冻结**

这不是流程控制机制，
而是一个**责任显式化模型**。

在进入冻结之前，这四个步骤之间允许自由回退与重启；
一旦冻结完成，任何回退都必须显式打破冻结状态。

---

## 四、输入：明确讨论对象，而非提出解决方案

### 阶段目标

输入步骤的目标只有一个：

> 明确当前要被认真讨论的问题是什么。

输入可以是：

- 一个模糊想法
- 一个目标陈述
- 一个尚未成形的需求

在这一阶段：

- 不要求完整
- 不要求正确
- 不进行技术选型

唯一需要判断的是：

> 这个问题是否值得进入高责任设计讨论。

输入应当是**较为明确的叙述性内容**，
而不是把判断权直接交给 AI 的问题。

---

### 示例（示意）

合法输入示例：

- “我们需要一个可以长期维护的评估系统，用于比较不同 LLM 模型的性能。”
- “当前系统在扩展到多个数据源时会失控，需要重新定义边界。”

不合法输入示例：

- “用 Python 还是 Rust？”
- “我们要不要用某个具体框架？”

---

### 心智模型比喻｜明确作战议题

在军事系统中，
第一步不是讨论战术，而是明确：

> 这次会议到底是讨论进攻、撤退，还是补给。

如果连讨论对象都不清楚，
后续任何推演都只是噪声。

---

## 五、对齐：消除问题定义中的歧义

### 阶段目标

对齐步骤的目标是：

> 确保 Actor 与协作智能体
> 对“正在解决的是什么问题”达成一致理解。

这一阶段不产生设计方案，
只产出一个**被明确写下的问题定义**。

---

### 合法行为

- 要求协作智能体复述问题理解
- 主动暴露隐含假设
- 明确目标、边界与非目标

---

### 示例（示意）

对齐阶段的合法提问方式：

- “请你复述你理解的系统目标与明确不解决的问题。”
- “请你以工程师的角度描述我的目标是什么。”

对齐完成的标志不是“听起来差不多”，
而是**问题定义已被明确写下，并由 Actor 确认认可**。

---

### 心智模型比喻｜统一作战语言

在作战会议中，如果不同部门对“主攻方向”理解不同，
那么再精妙的战术讨论都毫无意义。

对齐阶段的价值，正在于**提前消灭这种歧义**。

---

## 六、细化：构建可承担责任的系统结构

### 阶段目标

细化步骤的目标是：

> 在已对齐的问题定义之上，
> 将模糊问题转化为执行的结构性基础，
> 并在本阶段结束时，明确给出一个**可承担责任的可行方案**。

这里的“可行方案”并不指具体实现路径，
而是指一个在责任、边界与授权上已经闭合的系统结构。

在这一阶段，Vibe Agent 是主要的辅助角色：
提出参考方案、暴露风险、补充漏洞、挑战假设，
但所有关键判断必须由 Actor 明确完成。

---

### 合法活动

- 模块与职责边界划分
- 候选方案比较
- 不变量与约束提取
- 接口与数据形态的初步定义

协作智能体可以提出多个方案，
但**所有判断必须由 Actor 明确完成并承担责任**。

---

### 示例（示意）

合法细化输入示例：

- “你认为这个问题隐含了哪些前提？哪些如果错误会导致整体失败？”

合法细化输出示例：

- “系统必须严格区分输入、评估核心与输出。”
- “该接口仅接受 POST 方法，不接受 GET。”

不合法细化行为：

- “先写一版看看结构合不合理。”
  —— 将 demo 引入长期工程，这是战术侦察，不是作战决心。
- “实现过程中再决定这些边界。”
  —— 指令模糊，要么明确排除在本次讨论之外，要么现在定义清楚，否则即构成越权授权。

---

### 心智模型比喻｜参谋方案与指挥责任

参谋部可以提出多种作战方案，
但一旦发生失败，
承担责任的永远是作出选择的指挥官。

工程中的细化阶段，
正是责任显式落点逐步形成的过程。

---

## 七、冻结：形成唯一合法的设计依据

冻结是决策阶段中**唯一具有制度效力的节点**。

在这一节点，Actor 必须显式完成：

- 对设计结论的确认
- 对取舍与排除项的接受
- 对风险与限制的知情认可

冻结的形式可以是：

- 设计文档
- 架构说明
- 明确的不变量声明

形式不重要，语义才重要：

- 哪些判断已被接受
- 哪些取舍不再讨论
- 后续所有行为必须以此为准

冻结结果将作为：

> 分解、执行与审计阶段
> 判断“是否越界”的唯一合法依据。

---

### 心智模型比喻｜作战命令的签发

在军事系统中，
作战命令一旦签发，就具备制度效力。

任何“现场看起来更合理”的临时判断，
如果超出命令授权，
都构成越权。

---

## 八、冻结与回退：唯一合法的修改路径

冻结并不意味着“永不修改”。

但任何修改都必须满足以下条件：

1. 显式打破冻结状态
2. 回到决策阶段
3. 更新文档与约束
4. 重新完成冻结

不存在通过修改代码或调整实现细节
来绕过冻结的合法路径。

---

## 本章小结

决策阶段不是灵感阶段，也不是实现前的热身。

它是：

- 高责任判断的唯一合法发生地
- 后续分解、执行与审计的语义源头
- 工程中“可被递归引用事实”的生成点

当决策阶段被严格执行时：

- 后续任务才能被安全地下放
- 执行阶段才能被严格约束
- 审计阶段才能进行有效归责

**这正是决策阶段在 Vibe + Coding 中不可被削弱的工程意义。**
